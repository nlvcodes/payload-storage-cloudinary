"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongoose-paginate-v2@1.8.5";
exports.ids = ["vendor-chunks/mongoose-paginate-v2@1.8.5"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/**\n * @param {Object}              [query={}]\n * @param {Object}              [options={}]\n * @param {Object|String}       [options.select='']\n * @param {Object|String}       [options.projection={}]\n * @param {Object}              [options.options={}]\n * @param {Object|String}       [options.sort]\n * @param {Object|String}       [options.customLabels]\n * @param {Object}              [options.collation]\n * @param {Array|Object|String} [options.populate]\n * @param {Boolean}             [options.lean=false]\n * @param {Boolean}             [options.leanWithId=true]\n * @param {Number}              [options.offset=0] - Use offset or page to set skip position\n * @param {Number}              [options.page=1]\n * @param {Number}              [options.limit=10]\n * @param {Boolean}             [options.useEstimatedCount=true] - Enable estimatedDocumentCount for larger datasets. As the name says, the count may not abe accurate.\n * @param {Function}            [options.useCustomCountFn=false] - use custom function for count datasets.\n * @param {Object}              [options.read={}] - Determines the MongoDB nodes from which to read.\n * @param {Function}            [callback]\n *\n * @returns {Promise}\n */\nvar PaginationParametersHelper = __webpack_require__(/*! ./pagination-parameters */ \"(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\");\nvar paginateSubDocsHelper = __webpack_require__(/*! ./pagination-subdocs */ \"(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\");\nvar paginateQueryHelper = __webpack_require__(/*! ./pagination-queryHelper */ \"(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js\");\nvar defaultOptions = {\n  customLabels: {\n    totalDocs: 'totalDocs',\n    limit: 'limit',\n    page: 'page',\n    totalPages: 'totalPages',\n    docs: 'docs',\n    nextPage: 'nextPage',\n    prevPage: 'prevPage',\n    pagingCounter: 'pagingCounter',\n    hasPrevPage: 'hasPrevPage',\n    hasNextPage: 'hasNextPage',\n    meta: null\n  },\n  collation: {},\n  lean: false,\n  leanWithId: true,\n  limit: 10,\n  projection: {},\n  select: '',\n  options: {},\n  pagination: true,\n  useEstimatedCount: false,\n  useCustomCountFn: false,\n  forceCountFn: false,\n  allowDiskUse: false,\n  customFind: 'find'\n};\nfunction paginate(query, options, callback) {\n  options = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), paginate.options), options);\n  query = query || {};\n  var _options = options,\n    collation = _options.collation,\n    lean = _options.lean,\n    leanWithId = _options.leanWithId,\n    populate = _options.populate,\n    projection = _options.projection,\n    read = _options.read,\n    select = _options.select,\n    sort = _options.sort,\n    pagination = _options.pagination,\n    useEstimatedCount = _options.useEstimatedCount,\n    useCustomCountFn = _options.useCustomCountFn,\n    forceCountFn = _options.forceCountFn,\n    allowDiskUse = _options.allowDiskUse,\n    customFind = _options.customFind;\n  var customLabels = _objectSpread(_objectSpread({}, defaultOptions.customLabels), options.customLabels);\n  var limit = defaultOptions.limit;\n  if (pagination && !isNaN(Number(options.limit))) {\n    limit = parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 0;\n  }\n  var isCallbackSpecified = typeof callback === 'function';\n  var findOptions = options.options;\n  var offset;\n  var page;\n  var skip;\n  var docsPromise = [];\n\n  // Labels\n  var labelDocs = customLabels.docs;\n  var labelLimit = customLabels.limit;\n  var labelNextPage = customLabels.nextPage;\n  var labelPage = customLabels.page;\n  var labelPagingCounter = customLabels.pagingCounter;\n  var labelPrevPage = customLabels.prevPage;\n  var labelTotal = customLabels.totalDocs;\n  var labelTotalPages = customLabels.totalPages;\n  var labelHasPrevPage = customLabels.hasPrevPage;\n  var labelHasNextPage = customLabels.hasNextPage;\n  var labelMeta = customLabels.meta;\n  if (Object.prototype.hasOwnProperty.call(options, 'offset')) {\n    offset = parseInt(options.offset, 10);\n    skip = offset;\n  } else if (Object.prototype.hasOwnProperty.call(options, 'page')) {\n    page = parseInt(options.page, 10) > 0 ? parseInt(options.page, 10) : 1;\n    skip = (page - 1) * limit;\n  } else {\n    offset = 0;\n    page = 1;\n    skip = offset;\n  }\n  if (!pagination) {\n    page = 1;\n  }\n  var countPromise;\n\n  // Only run count when pagination is enabled\n  if (pagination) {\n    if (forceCountFn === true) {\n      // Deprecated since starting from MongoDB Node.JS driver v3.1\n\n      // Hack for mongo < v3.4\n      if (Object.keys(collation).length > 0) {\n        countPromise = this.countDocuments(query, findOptions).collation(collation).exec();\n      } else {\n        countPromise = this.countDocuments(query).exec();\n      }\n    } else {\n      if (useEstimatedCount === true) {\n        countPromise = this.estimatedDocumentCount().exec();\n      } else if (typeof useCustomCountFn === 'function') {\n        countPromise = useCustomCountFn();\n      } else {\n        // Hack for mongo < v3.4\n        if (Object.keys(collation).length > 0) {\n          countPromise = this.countDocuments(query, findOptions).collation(collation).exec();\n        } else {\n          countPromise = this.countDocuments(query).exec();\n        }\n      }\n    }\n  }\n  if (limit) {\n    var mQuery = this[customFind](query, projection, findOptions);\n    if (populate) {\n      mQuery.populate(populate);\n    }\n    mQuery.select(select);\n    mQuery.sort(sort);\n    mQuery.lean(lean);\n    if (read && read.pref) {\n      /**\n       * Determines the MongoDB nodes from which to read.\n       * @param read.pref one of the listed preference options or aliases\n       * @param read.tags optional tags for this query\n       */\n      mQuery.read(read.pref, read.tags);\n    }\n\n    // Hack for mongo < v3.4\n    if (Object.keys(collation).length > 0) {\n      mQuery.collation(collation);\n    }\n    if (pagination) {\n      mQuery.skip(skip);\n      mQuery.limit(limit);\n    }\n    try {\n      if (allowDiskUse === true) {\n        mQuery.allowDiskUse();\n      }\n    } catch (ex) {\n      console.error('Your MongoDB version does not support `allowDiskUse`.');\n    }\n    docsPromise = mQuery.exec();\n    if (lean && leanWithId) {\n      docsPromise = docsPromise.then(function (docs) {\n        docs.forEach(function (doc) {\n          if (doc._id) {\n            doc.id = String(doc._id);\n          }\n        });\n        return docs;\n      });\n    }\n  }\n  return Promise.all([countPromise, docsPromise]).then(function (values) {\n    var count = values[0];\n    var docs = values[1];\n    if (pagination !== true) {\n      count = docs.length;\n    }\n    var meta = {\n      [labelTotal]: count\n    };\n    var result = {};\n    if (typeof offset !== 'undefined') {\n      meta.offset = offset;\n      page = Math.ceil((offset + 1) / limit);\n    }\n    var pages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n\n    // Setting default values\n    meta[labelLimit] = count;\n    meta[labelTotalPages] = 1;\n    meta[labelPage] = page;\n    meta[labelPagingCounter] = (page - 1) * limit + 1;\n    meta[labelHasPrevPage] = false;\n    meta[labelHasNextPage] = false;\n    meta[labelPrevPage] = null;\n    meta[labelNextPage] = null;\n    if (pagination) {\n      meta[labelLimit] = limit;\n      meta[labelTotalPages] = pages;\n\n      // Set prev page\n      if (page > 1) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = page - 1;\n      } else if (page == 1 && typeof offset !== 'undefined' && offset !== 0) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = 1;\n      }\n\n      // Set next page\n      if (page < pages) {\n        meta[labelHasNextPage] = true;\n        meta[labelNextPage] = page + 1;\n      }\n    }\n\n    // Remove customLabels set to false\n    delete meta['false'];\n    if (limit == 0) {\n      meta[labelLimit] = 0;\n      meta[labelTotalPages] = 1;\n      meta[labelPage] = 1;\n      meta[labelPagingCounter] = 1;\n      meta[labelPrevPage] = null;\n      meta[labelNextPage] = null;\n      meta[labelHasPrevPage] = false;\n      meta[labelHasNextPage] = false;\n    }\n    if (labelMeta) {\n      result = {\n        [labelDocs]: docs,\n        [labelMeta]: meta\n      };\n    } else {\n      result = _objectSpread({\n        [labelDocs]: docs\n      }, meta);\n    }\n    return isCallbackSpecified ? callback(null, result) : Promise.resolve(result);\n  }).catch(function (error) {\n    return isCallbackSpecified ? callback(error) : Promise.reject(error);\n  });\n}\n\n/**\n * @param {Schema} schema\n */\nmodule.exports = function (schema) {\n  schema.statics.paginate = paginate;\n  schema.statics.paginateSubDocs = paginateSubDocsHelper;\n  schema.query.paginate = paginateQueryHelper;\n};\nmodule.exports.PaginationParameters = PaginationParametersHelper;\nmodule.exports.paginateSubDocs = paginateSubDocsHelper;\nmodule.exports.paginate = paginate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELHNCQUFzQiwwQ0FBMEMsaUVBQWlFLEtBQUssa0NBQWtDO0FBQzNVLGlDQUFpQyxnQkFBZ0Isc0JBQXNCLE9BQU8sdURBQXVELGFBQWEsdURBQXVELDRDQUE0QyxLQUFLLDZDQUE2Qyw2RUFBNkUsT0FBTyxpREFBaUQsbUZBQW1GLE9BQU87QUFDdGdCLDRDQUE0QyxrQkFBa0Isa0NBQWtDLG9FQUFvRSxLQUFLLE9BQU8sb0JBQW9CO0FBQ3BNO0FBQ0EsV0FBVyxxQkFBcUIsU0FBUztBQUN6QyxXQUFXLHFCQUFxQixXQUFXO0FBQzNDLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcscUJBQXFCLHNCQUFzQjtBQUN0RCxXQUFXLHFCQUFxQixtQkFBbUI7QUFDbkQsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUIsZ0JBQWdCO0FBQ2hELFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUNBQWlDLG1CQUFPLENBQUMsc0pBQXlCO0FBQ2xFLDRCQUE0QixtQkFBTyxDQUFDLGdKQUFzQjtBQUMxRCwwQkFBMEIsbUJBQU8sQ0FBQyx3SkFBMEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsOEJBQThCO0FBQzlCLHVCQUF1QiIsInNvdXJjZXMiOlsiL1VzZXJzL25pY2svRGVza3RvcC9CdXNpbmVzcy9QYXlsb2FkQ01TL3BheWxvYWQtc3RvcmFnZS1jbG91ZGluYXJ5L2Rldi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgIFtxdWVyeT17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnM9e31dXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9ICAgICAgIFtvcHRpb25zLnNlbGVjdD0nJ11cbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMucHJvamVjdGlvbj17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnMub3B0aW9ucz17fV1cbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMuc29ydF1cbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMuY3VzdG9tTGFiZWxzXVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5jb2xsYXRpb25dXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdHxTdHJpbmd9IFtvcHRpb25zLnBvcHVsYXRlXVxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgICAgICBbb3B0aW9ucy5sZWFuPWZhbHNlXVxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgICAgICBbb3B0aW9ucy5sZWFuV2l0aElkPXRydWVdXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgICAgIFtvcHRpb25zLm9mZnNldD0wXSAtIFVzZSBvZmZzZXQgb3IgcGFnZSB0byBzZXQgc2tpcCBwb3NpdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgICAgICBbb3B0aW9ucy5wYWdlPTFdXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgICAgIFtvcHRpb25zLmxpbWl0PTEwXVxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgICAgICBbb3B0aW9ucy51c2VFc3RpbWF0ZWRDb3VudD10cnVlXSAtIEVuYWJsZSBlc3RpbWF0ZWREb2N1bWVudENvdW50IGZvciBsYXJnZXIgZGF0YXNldHMuIEFzIHRoZSBuYW1lIHNheXMsIHRoZSBjb3VudCBtYXkgbm90IGFiZSBhY2N1cmF0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgICAgW29wdGlvbnMudXNlQ3VzdG9tQ291bnRGbj1mYWxzZV0gLSB1c2UgY3VzdG9tIGZ1bmN0aW9uIGZvciBjb3VudCBkYXRhc2V0cy5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW29wdGlvbnMucmVhZD17fV0gLSBEZXRlcm1pbmVzIHRoZSBNb25nb0RCIG5vZGVzIGZyb20gd2hpY2ggdG8gcmVhZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgICAgW2NhbGxiYWNrXVxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG52YXIgUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIgPSByZXF1aXJlKCcuL3BhZ2luYXRpb24tcGFyYW1ldGVycycpO1xudmFyIHBhZ2luYXRlU3ViRG9jc0hlbHBlciA9IHJlcXVpcmUoJy4vcGFnaW5hdGlvbi1zdWJkb2NzJyk7XG52YXIgcGFnaW5hdGVRdWVyeUhlbHBlciA9IHJlcXVpcmUoJy4vcGFnaW5hdGlvbi1xdWVyeUhlbHBlcicpO1xudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICBjdXN0b21MYWJlbHM6IHtcbiAgICB0b3RhbERvY3M6ICd0b3RhbERvY3MnLFxuICAgIGxpbWl0OiAnbGltaXQnLFxuICAgIHBhZ2U6ICdwYWdlJyxcbiAgICB0b3RhbFBhZ2VzOiAndG90YWxQYWdlcycsXG4gICAgZG9jczogJ2RvY3MnLFxuICAgIG5leHRQYWdlOiAnbmV4dFBhZ2UnLFxuICAgIHByZXZQYWdlOiAncHJldlBhZ2UnLFxuICAgIHBhZ2luZ0NvdW50ZXI6ICdwYWdpbmdDb3VudGVyJyxcbiAgICBoYXNQcmV2UGFnZTogJ2hhc1ByZXZQYWdlJyxcbiAgICBoYXNOZXh0UGFnZTogJ2hhc05leHRQYWdlJyxcbiAgICBtZXRhOiBudWxsXG4gIH0sXG4gIGNvbGxhdGlvbjoge30sXG4gIGxlYW46IGZhbHNlLFxuICBsZWFuV2l0aElkOiB0cnVlLFxuICBsaW1pdDogMTAsXG4gIHByb2plY3Rpb246IHt9LFxuICBzZWxlY3Q6ICcnLFxuICBvcHRpb25zOiB7fSxcbiAgcGFnaW5hdGlvbjogdHJ1ZSxcbiAgdXNlRXN0aW1hdGVkQ291bnQ6IGZhbHNlLFxuICB1c2VDdXN0b21Db3VudEZuOiBmYWxzZSxcbiAgZm9yY2VDb3VudEZuOiBmYWxzZSxcbiAgYWxsb3dEaXNrVXNlOiBmYWxzZSxcbiAgY3VzdG9tRmluZDogJ2ZpbmQnXG59O1xuZnVuY3Rpb24gcGFnaW5hdGUocXVlcnksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMpLCBwYWdpbmF0ZS5vcHRpb25zKSwgb3B0aW9ucyk7XG4gIHF1ZXJ5ID0gcXVlcnkgfHwge307XG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgY29sbGF0aW9uID0gX29wdGlvbnMuY29sbGF0aW9uLFxuICAgIGxlYW4gPSBfb3B0aW9ucy5sZWFuLFxuICAgIGxlYW5XaXRoSWQgPSBfb3B0aW9ucy5sZWFuV2l0aElkLFxuICAgIHBvcHVsYXRlID0gX29wdGlvbnMucG9wdWxhdGUsXG4gICAgcHJvamVjdGlvbiA9IF9vcHRpb25zLnByb2plY3Rpb24sXG4gICAgcmVhZCA9IF9vcHRpb25zLnJlYWQsXG4gICAgc2VsZWN0ID0gX29wdGlvbnMuc2VsZWN0LFxuICAgIHNvcnQgPSBfb3B0aW9ucy5zb3J0LFxuICAgIHBhZ2luYXRpb24gPSBfb3B0aW9ucy5wYWdpbmF0aW9uLFxuICAgIHVzZUVzdGltYXRlZENvdW50ID0gX29wdGlvbnMudXNlRXN0aW1hdGVkQ291bnQsXG4gICAgdXNlQ3VzdG9tQ291bnRGbiA9IF9vcHRpb25zLnVzZUN1c3RvbUNvdW50Rm4sXG4gICAgZm9yY2VDb3VudEZuID0gX29wdGlvbnMuZm9yY2VDb3VudEZuLFxuICAgIGFsbG93RGlza1VzZSA9IF9vcHRpb25zLmFsbG93RGlza1VzZSxcbiAgICBjdXN0b21GaW5kID0gX29wdGlvbnMuY3VzdG9tRmluZDtcbiAgdmFyIGN1c3RvbUxhYmVscyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMuY3VzdG9tTGFiZWxzKSwgb3B0aW9ucy5jdXN0b21MYWJlbHMpO1xuICB2YXIgbGltaXQgPSBkZWZhdWx0T3B0aW9ucy5saW1pdDtcbiAgaWYgKHBhZ2luYXRpb24gJiYgIWlzTmFOKE51bWJlcihvcHRpb25zLmxpbWl0KSkpIHtcbiAgICBsaW1pdCA9IHBhcnNlSW50KG9wdGlvbnMubGltaXQsIDEwKSA+IDAgPyBwYXJzZUludChvcHRpb25zLmxpbWl0LCAxMCkgOiAwO1xuICB9XG4gIHZhciBpc0NhbGxiYWNrU3BlY2lmaWVkID0gdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nO1xuICB2YXIgZmluZE9wdGlvbnMgPSBvcHRpb25zLm9wdGlvbnM7XG4gIHZhciBvZmZzZXQ7XG4gIHZhciBwYWdlO1xuICB2YXIgc2tpcDtcbiAgdmFyIGRvY3NQcm9taXNlID0gW107XG5cbiAgLy8gTGFiZWxzXG4gIHZhciBsYWJlbERvY3MgPSBjdXN0b21MYWJlbHMuZG9jcztcbiAgdmFyIGxhYmVsTGltaXQgPSBjdXN0b21MYWJlbHMubGltaXQ7XG4gIHZhciBsYWJlbE5leHRQYWdlID0gY3VzdG9tTGFiZWxzLm5leHRQYWdlO1xuICB2YXIgbGFiZWxQYWdlID0gY3VzdG9tTGFiZWxzLnBhZ2U7XG4gIHZhciBsYWJlbFBhZ2luZ0NvdW50ZXIgPSBjdXN0b21MYWJlbHMucGFnaW5nQ291bnRlcjtcbiAgdmFyIGxhYmVsUHJldlBhZ2UgPSBjdXN0b21MYWJlbHMucHJldlBhZ2U7XG4gIHZhciBsYWJlbFRvdGFsID0gY3VzdG9tTGFiZWxzLnRvdGFsRG9jcztcbiAgdmFyIGxhYmVsVG90YWxQYWdlcyA9IGN1c3RvbUxhYmVscy50b3RhbFBhZ2VzO1xuICB2YXIgbGFiZWxIYXNQcmV2UGFnZSA9IGN1c3RvbUxhYmVscy5oYXNQcmV2UGFnZTtcbiAgdmFyIGxhYmVsSGFzTmV4dFBhZ2UgPSBjdXN0b21MYWJlbHMuaGFzTmV4dFBhZ2U7XG4gIHZhciBsYWJlbE1ldGEgPSBjdXN0b21MYWJlbHMubWV0YTtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnb2Zmc2V0JykpIHtcbiAgICBvZmZzZXQgPSBwYXJzZUludChvcHRpb25zLm9mZnNldCwgMTApO1xuICAgIHNraXAgPSBvZmZzZXQ7XG4gIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdwYWdlJykpIHtcbiAgICBwYWdlID0gcGFyc2VJbnQob3B0aW9ucy5wYWdlLCAxMCkgPiAwID8gcGFyc2VJbnQob3B0aW9ucy5wYWdlLCAxMCkgOiAxO1xuICAgIHNraXAgPSAocGFnZSAtIDEpICogbGltaXQ7XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0ID0gMDtcbiAgICBwYWdlID0gMTtcbiAgICBza2lwID0gb2Zmc2V0O1xuICB9XG4gIGlmICghcGFnaW5hdGlvbikge1xuICAgIHBhZ2UgPSAxO1xuICB9XG4gIHZhciBjb3VudFByb21pc2U7XG5cbiAgLy8gT25seSBydW4gY291bnQgd2hlbiBwYWdpbmF0aW9uIGlzIGVuYWJsZWRcbiAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICBpZiAoZm9yY2VDb3VudEZuID09PSB0cnVlKSB7XG4gICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIHN0YXJ0aW5nIGZyb20gTW9uZ29EQiBOb2RlLkpTIGRyaXZlciB2My4xXG5cbiAgICAgIC8vIEhhY2sgZm9yIG1vbmdvIDwgdjMuNFxuICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbGxhdGlvbikubGVuZ3RoID4gMCkge1xuICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5LCBmaW5kT3B0aW9ucykuY29sbGF0aW9uKGNvbGxhdGlvbikuZXhlYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudERvY3VtZW50cyhxdWVyeSkuZXhlYygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodXNlRXN0aW1hdGVkQ291bnQgPT09IHRydWUpIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5lc3RpbWF0ZWREb2N1bWVudENvdW50KCkuZXhlYygpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdXNlQ3VzdG9tQ291bnRGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb3VudFByb21pc2UgPSB1c2VDdXN0b21Db3VudEZuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYWNrIGZvciBtb25nbyA8IHYzLjRcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbGxhdGlvbikubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnREb2N1bWVudHMocXVlcnksIGZpbmRPcHRpb25zKS5jb2xsYXRpb24oY29sbGF0aW9uKS5leGVjKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudERvY3VtZW50cyhxdWVyeSkuZXhlYygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChsaW1pdCkge1xuICAgIHZhciBtUXVlcnkgPSB0aGlzW2N1c3RvbUZpbmRdKHF1ZXJ5LCBwcm9qZWN0aW9uLCBmaW5kT3B0aW9ucyk7XG4gICAgaWYgKHBvcHVsYXRlKSB7XG4gICAgICBtUXVlcnkucG9wdWxhdGUocG9wdWxhdGUpO1xuICAgIH1cbiAgICBtUXVlcnkuc2VsZWN0KHNlbGVjdCk7XG4gICAgbVF1ZXJ5LnNvcnQoc29ydCk7XG4gICAgbVF1ZXJ5LmxlYW4obGVhbik7XG4gICAgaWYgKHJlYWQgJiYgcmVhZC5wcmVmKSB7XG4gICAgICAvKipcbiAgICAgICAqIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxuICAgICAgICogQHBhcmFtIHJlYWQucHJlZiBvbmUgb2YgdGhlIGxpc3RlZCBwcmVmZXJlbmNlIG9wdGlvbnMgb3IgYWxpYXNlc1xuICAgICAgICogQHBhcmFtIHJlYWQudGFncyBvcHRpb25hbCB0YWdzIGZvciB0aGlzIHF1ZXJ5XG4gICAgICAgKi9cbiAgICAgIG1RdWVyeS5yZWFkKHJlYWQucHJlZiwgcmVhZC50YWdzKTtcbiAgICB9XG5cbiAgICAvLyBIYWNrIGZvciBtb25nbyA8IHYzLjRcbiAgICBpZiAoT2JqZWN0LmtleXMoY29sbGF0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICBtUXVlcnkuY29sbGF0aW9uKGNvbGxhdGlvbik7XG4gICAgfVxuICAgIGlmIChwYWdpbmF0aW9uKSB7XG4gICAgICBtUXVlcnkuc2tpcChza2lwKTtcbiAgICAgIG1RdWVyeS5saW1pdChsaW1pdCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpZiAoYWxsb3dEaXNrVXNlID09PSB0cnVlKSB7XG4gICAgICAgIG1RdWVyeS5hbGxvd0Rpc2tVc2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgY29uc29sZS5lcnJvcignWW91ciBNb25nb0RCIHZlcnNpb24gZG9lcyBub3Qgc3VwcG9ydCBgYWxsb3dEaXNrVXNlYC4nKTtcbiAgICB9XG4gICAgZG9jc1Byb21pc2UgPSBtUXVlcnkuZXhlYygpO1xuICAgIGlmIChsZWFuICYmIGxlYW5XaXRoSWQpIHtcbiAgICAgIGRvY3NQcm9taXNlID0gZG9jc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZG9jcykge1xuICAgICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIGlmIChkb2MuX2lkKSB7XG4gICAgICAgICAgICBkb2MuaWQgPSBTdHJpbmcoZG9jLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRvY3M7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtjb3VudFByb21pc2UsIGRvY3NQcm9taXNlXSkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgdmFyIGNvdW50ID0gdmFsdWVzWzBdO1xuICAgIHZhciBkb2NzID0gdmFsdWVzWzFdO1xuICAgIGlmIChwYWdpbmF0aW9uICE9PSB0cnVlKSB7XG4gICAgICBjb3VudCA9IGRvY3MubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgbWV0YSA9IHtcbiAgICAgIFtsYWJlbFRvdGFsXTogY291bnRcbiAgICB9O1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1ldGEub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgcGFnZSA9IE1hdGguY2VpbCgob2Zmc2V0ICsgMSkgLyBsaW1pdCk7XG4gICAgfVxuICAgIHZhciBwYWdlcyA9IGxpbWl0ID4gMCA/IE1hdGguY2VpbChjb3VudCAvIGxpbWl0KSB8fCAxIDogbnVsbDtcblxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCB2YWx1ZXNcbiAgICBtZXRhW2xhYmVsTGltaXRdID0gY291bnQ7XG4gICAgbWV0YVtsYWJlbFRvdGFsUGFnZXNdID0gMTtcbiAgICBtZXRhW2xhYmVsUGFnZV0gPSBwYWdlO1xuICAgIG1ldGFbbGFiZWxQYWdpbmdDb3VudGVyXSA9IChwYWdlIC0gMSkgKiBsaW1pdCArIDE7XG4gICAgbWV0YVtsYWJlbEhhc1ByZXZQYWdlXSA9IGZhbHNlO1xuICAgIG1ldGFbbGFiZWxIYXNOZXh0UGFnZV0gPSBmYWxzZTtcbiAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gbnVsbDtcbiAgICBtZXRhW2xhYmVsTmV4dFBhZ2VdID0gbnVsbDtcbiAgICBpZiAocGFnaW5hdGlvbikge1xuICAgICAgbWV0YVtsYWJlbExpbWl0XSA9IGxpbWl0O1xuICAgICAgbWV0YVtsYWJlbFRvdGFsUGFnZXNdID0gcGFnZXM7XG5cbiAgICAgIC8vIFNldCBwcmV2IHBhZ2VcbiAgICAgIGlmIChwYWdlID4gMSkge1xuICAgICAgICBtZXRhW2xhYmVsSGFzUHJldlBhZ2VdID0gdHJ1ZTtcbiAgICAgICAgbWV0YVtsYWJlbFByZXZQYWdlXSA9IHBhZ2UgLSAxO1xuICAgICAgfSBlbHNlIGlmIChwYWdlID09IDEgJiYgdHlwZW9mIG9mZnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSB0cnVlO1xuICAgICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gMTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IG5leHQgcGFnZVxuICAgICAgaWYgKHBhZ2UgPCBwYWdlcykge1xuICAgICAgICBtZXRhW2xhYmVsSGFzTmV4dFBhZ2VdID0gdHJ1ZTtcbiAgICAgICAgbWV0YVtsYWJlbE5leHRQYWdlXSA9IHBhZ2UgKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjdXN0b21MYWJlbHMgc2V0IHRvIGZhbHNlXG4gICAgZGVsZXRlIG1ldGFbJ2ZhbHNlJ107XG4gICAgaWYgKGxpbWl0ID09IDApIHtcbiAgICAgIG1ldGFbbGFiZWxMaW1pdF0gPSAwO1xuICAgICAgbWV0YVtsYWJlbFRvdGFsUGFnZXNdID0gMTtcbiAgICAgIG1ldGFbbGFiZWxQYWdlXSA9IDE7XG4gICAgICBtZXRhW2xhYmVsUGFnaW5nQ291bnRlcl0gPSAxO1xuICAgICAgbWV0YVtsYWJlbFByZXZQYWdlXSA9IG51bGw7XG4gICAgICBtZXRhW2xhYmVsTmV4dFBhZ2VdID0gbnVsbDtcbiAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSBmYWxzZTtcbiAgICAgIG1ldGFbbGFiZWxIYXNOZXh0UGFnZV0gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxhYmVsTWV0YSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBbbGFiZWxEb2NzXTogZG9jcyxcbiAgICAgICAgW2xhYmVsTWV0YV06IG1ldGFcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBbbGFiZWxEb2NzXTogZG9jc1xuICAgICAgfSwgbWV0YSk7XG4gICAgfVxuICAgIHJldHVybiBpc0NhbGxiYWNrU3BlY2lmaWVkID8gY2FsbGJhY2sobnVsbCwgcmVzdWx0KSA6IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNDYWxsYmFja1NwZWNpZmllZCA/IGNhbGxiYWNrKGVycm9yKSA6IFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTY2hlbWF9IHNjaGVtYVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgc2NoZW1hLnN0YXRpY3MucGFnaW5hdGUgPSBwYWdpbmF0ZTtcbiAgc2NoZW1hLnN0YXRpY3MucGFnaW5hdGVTdWJEb2NzID0gcGFnaW5hdGVTdWJEb2NzSGVscGVyO1xuICBzY2hlbWEucXVlcnkucGFnaW5hdGUgPSBwYWdpbmF0ZVF1ZXJ5SGVscGVyO1xufTtcbm1vZHVsZS5leHBvcnRzLlBhZ2luYXRpb25QYXJhbWV0ZXJzID0gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXI7XG5tb2R1bGUuZXhwb3J0cy5wYWdpbmF0ZVN1YkRvY3MgPSBwYWdpbmF0ZVN1YkRvY3NIZWxwZXI7XG5tb2R1bGUuZXhwb3J0cy5wYWdpbmF0ZSA9IHBhZ2luYXRlOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js ***!
  \***********************************************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nvar PaginationParametersHelper = /*#__PURE__*/function () {\n  function PaginationParametersHelper(request) {\n    _classCallCheck(this, PaginationParametersHelper);\n    this.query = request.query;\n  }\n\n  /**\r\n   * Handle boolean options\r\n   * If the 'option'-Parameter is a string, check if it equals 'true'\r\n   * If not, it should be a boolean, and can be returned as it is.\r\n   *\r\n   * @param {string|boolean} option\r\n   * @return {boolean}\r\n   * */\n  _createClass(PaginationParametersHelper, [{\n    key: \"booleanOpt\",\n    value: function booleanOpt(option) {\n      return typeof option === 'string' ? option === 'true' : option;\n    }\n\n    /**\r\n     * Handle options that are strings or objects (including arrays)\r\n     *\r\n     * @param {object|string} option\r\n     * @return {object|string}\r\n     * */\n  }, {\n    key: \"optObjectOrString\",\n    value: function optObjectOrString(option) {\n      // Since the JSON in the query object will be strings,\n      // we need to be able to detect this, in order to differentiate between JSON-objects and pure strings.\n      // a pure string, e.g. 'field -test', might not be parsed as wished by JSON.parse\n      var openingBrackets = ['{', '['];\n      var closingBrackets = ['}', ']'];\n      var firstCharIsBracket = option[0] && openingBrackets.includes(option[0]);\n      var lastCharIsBracket = option[option.length - 1] && closingBrackets.includes(option[option.length - 1]);\n      var optionIsObject = firstCharIsBracket && lastCharIsBracket;\n      try {\n        return optionIsObject ? JSON.parse(option) : option;\n      } catch (err) {\n        // Fallback for parsing errors of objects\n        return {};\n      }\n    }\n\n    /**\r\n     * Yields the \"query\" parameter for Model.paginate()\r\n     * given any attributes of the Express req.query-Object,\r\n     * */\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      var _this$query;\n      var filtersQueryParameter = (_this$query = this.query) === null || _this$query === void 0 ? void 0 : _this$query.query;\n      if (!filtersQueryParameter) return {};\n      try {\n        return JSON.parse(filtersQueryParameter);\n      } catch (err) {\n        return {};\n      }\n    }\n\n    /**\r\n     * Yields the \"options\" parameter for Model.paginate(),\r\n     * given any attributes of the Express req.query-Object\r\n     * */\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      if (!this.query) return {};\n      var options = {};\n\n      // Instantiate variables with all the possible options for Model.paginate()\n      var select = this.query.select,\n        collation = this.query.collation,\n        sort = this.query.sort,\n        populate = this.query.populate,\n        projection = this.query.projection,\n        lean = this.query.lean,\n        leanWithId = this.query.leanWithId,\n        offset = this.query.offset,\n        page = this.query.page,\n        limit = this.query.limit,\n        customLabels = this.query.customLabels,\n        pagination = this.query.pagination,\n        useEstimatedCount = this.query.useEstimatedCount,\n        useCustomCountFn = this.query.useCustomCountFn,\n        forceCountFn = this.query.forceCountFn,\n        allowDiskUse = this.query.allowDiskUse,\n        read = this.query.read,\n        mongooseOptions = this.query.options;\n\n      // For every option that is set, add it to the 'options' object-literal\n      if (select) options['select'] = this.optObjectOrString(select);\n      if (collation) options['collation'] = this.optObjectOrString(collation);\n      if (sort) options['sort'] = this.optObjectOrString(sort);\n      if (populate) options['populate'] = this.optObjectOrString(populate);\n      if (projection !== undefined) options['projection'] = this.optObjectOrString(projection);\n      if (lean !== undefined) options['lean'] = this.booleanOpt(lean);\n      if (leanWithId !== undefined) options['leanWithId'] = this.booleanOpt(leanWithId);\n      if (offset) options['offset'] = Number(offset);\n      if (page) options['page'] = Number(page);\n      if (limit || limit == 0) options['limit'] = Number(limit);\n      if (customLabels) options['customLabels'] = this.optObjectOrString(customLabels);\n      if (pagination !== undefined) options['pagination'] = this.booleanOpt(pagination);\n      if (useEstimatedCount !== undefined) options['useEstimatedCount'] = this.booleanOpt(useEstimatedCount);\n      if (useCustomCountFn !== undefined) options['useCustomCountFn'] = this.booleanOpt(useCustomCountFn);\n      if (forceCountFn !== undefined) options['forceCountFn'] = this.booleanOpt(forceCountFn);\n      if (allowDiskUse) options['allowDiskUse'] = this.booleanOpt(allowDiskUse);\n      if (read) options['read'] = this.optObjectOrString(read);\n      if (mongooseOptions) options['options'] = this.getOptions(mongooseOptions);\n      return options;\n    }\n\n    /**\r\n     * Yields an array with positions:\r\n     * [0] \"query\" parameter, for Model.paginate()\r\n     * [1] \"options\" parameter, for Model.paginate()\r\n     * */\n  }, {\n    key: \"get\",\n    value: function get() {\n      return [_objectSpread({}, this.getQuery()), _objectSpread({}, this.getOptions())];\n    }\n  }]);\n  return PaginationParametersHelper;\n}();\nmodule.exports = PaginationParametersHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1wYXJhbWV0ZXJzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCxzQkFBc0IsMENBQTBDLGlFQUFpRSxLQUFLLGtDQUFrQztBQUMzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPO0FBQ3RnQiw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjtBQUNwTSxrREFBa0QsMENBQTBDO0FBQzVGLDRDQUE0QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVEO0FBQy9QLDhEQUE4RCxzRUFBc0UsOERBQThEO0FBQ2xNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQjtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsOEJBQThCLG9DQUFvQztBQUNsRTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsiL1VzZXJzL25pY2svRGVza3RvcC9CdXNpbmVzcy9QYXlsb2FkQ01TL3BheWxvYWQtc3RvcmFnZS1jbG91ZGluYXJ5L2Rldi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1wYXJhbWV0ZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIocmVxdWVzdCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcik7XG4gICAgdGhpcy5xdWVyeSA9IHJlcXVlc3QucXVlcnk7XG4gIH1cblxuICAvKipcclxuICAgKiBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXHJcbiAgICogSWYgdGhlICdvcHRpb24nLVBhcmFtZXRlciBpcyBhIHN0cmluZywgY2hlY2sgaWYgaXQgZXF1YWxzICd0cnVlJ1xyXG4gICAqIElmIG5vdCwgaXQgc2hvdWxkIGJlIGEgYm9vbGVhbiwgYW5kIGNhbiBiZSByZXR1cm5lZCBhcyBpdCBpcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IG9wdGlvblxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICogKi9cbiAgX2NyZWF0ZUNsYXNzKFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyLCBbe1xuICAgIGtleTogXCJib29sZWFuT3B0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGJvb2xlYW5PcHQob3B0aW9uKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgPyBvcHRpb24gPT09ICd0cnVlJyA6IG9wdGlvbjtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBvcHRpb25zIHRoYXQgYXJlIHN0cmluZ3Mgb3Igb2JqZWN0cyAoaW5jbHVkaW5nIGFycmF5cylcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IG9wdGlvblxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fHN0cmluZ31cclxuICAgICAqICovXG4gIH0sIHtcbiAgICBrZXk6IFwib3B0T2JqZWN0T3JTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3B0T2JqZWN0T3JTdHJpbmcob3B0aW9uKSB7XG4gICAgICAvLyBTaW5jZSB0aGUgSlNPTiBpbiB0aGUgcXVlcnkgb2JqZWN0IHdpbGwgYmUgc3RyaW5ncyxcbiAgICAgIC8vIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBkZXRlY3QgdGhpcywgaW4gb3JkZXIgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIEpTT04tb2JqZWN0cyBhbmQgcHVyZSBzdHJpbmdzLlxuICAgICAgLy8gYSBwdXJlIHN0cmluZywgZS5nLiAnZmllbGQgLXRlc3QnLCBtaWdodCBub3QgYmUgcGFyc2VkIGFzIHdpc2hlZCBieSBKU09OLnBhcnNlXG4gICAgICB2YXIgb3BlbmluZ0JyYWNrZXRzID0gWyd7JywgJ1snXTtcbiAgICAgIHZhciBjbG9zaW5nQnJhY2tldHMgPSBbJ30nLCAnXSddO1xuICAgICAgdmFyIGZpcnN0Q2hhcklzQnJhY2tldCA9IG9wdGlvblswXSAmJiBvcGVuaW5nQnJhY2tldHMuaW5jbHVkZXMob3B0aW9uWzBdKTtcbiAgICAgIHZhciBsYXN0Q2hhcklzQnJhY2tldCA9IG9wdGlvbltvcHRpb24ubGVuZ3RoIC0gMV0gJiYgY2xvc2luZ0JyYWNrZXRzLmluY2x1ZGVzKG9wdGlvbltvcHRpb24ubGVuZ3RoIC0gMV0pO1xuICAgICAgdmFyIG9wdGlvbklzT2JqZWN0ID0gZmlyc3RDaGFySXNCcmFja2V0ICYmIGxhc3RDaGFySXNCcmFja2V0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbklzT2JqZWN0ID8gSlNPTi5wYXJzZShvcHRpb24pIDogb3B0aW9uO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciBwYXJzaW5nIGVycm9ycyBvZiBvYmplY3RzXG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFlpZWxkcyB0aGUgXCJxdWVyeVwiIHBhcmFtZXRlciBmb3IgTW9kZWwucGFnaW5hdGUoKVxyXG4gICAgICogZ2l2ZW4gYW55IGF0dHJpYnV0ZXMgb2YgdGhlIEV4cHJlc3MgcmVxLnF1ZXJ5LU9iamVjdCxcclxuICAgICAqICovXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UXVlcnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UXVlcnkoKSB7XG4gICAgICB2YXIgX3RoaXMkcXVlcnk7XG4gICAgICB2YXIgZmlsdGVyc1F1ZXJ5UGFyYW1ldGVyID0gKF90aGlzJHF1ZXJ5ID0gdGhpcy5xdWVyeSkgPT09IG51bGwgfHwgX3RoaXMkcXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHF1ZXJ5LnF1ZXJ5O1xuICAgICAgaWYgKCFmaWx0ZXJzUXVlcnlQYXJhbWV0ZXIpIHJldHVybiB7fTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZpbHRlcnNRdWVyeVBhcmFtZXRlcik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogWWllbGRzIHRoZSBcIm9wdGlvbnNcIiBwYXJhbWV0ZXIgZm9yIE1vZGVsLnBhZ2luYXRlKCksXHJcbiAgICAgKiBnaXZlbiBhbnkgYXR0cmlidXRlcyBvZiB0aGUgRXhwcmVzcyByZXEucXVlcnktT2JqZWN0XHJcbiAgICAgKiAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldE9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgIGlmICghdGhpcy5xdWVyeSkgcmV0dXJuIHt9O1xuICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcblxuICAgICAgLy8gSW5zdGFudGlhdGUgdmFyaWFibGVzIHdpdGggYWxsIHRoZSBwb3NzaWJsZSBvcHRpb25zIGZvciBNb2RlbC5wYWdpbmF0ZSgpXG4gICAgICB2YXIgc2VsZWN0ID0gdGhpcy5xdWVyeS5zZWxlY3QsXG4gICAgICAgIGNvbGxhdGlvbiA9IHRoaXMucXVlcnkuY29sbGF0aW9uLFxuICAgICAgICBzb3J0ID0gdGhpcy5xdWVyeS5zb3J0LFxuICAgICAgICBwb3B1bGF0ZSA9IHRoaXMucXVlcnkucG9wdWxhdGUsXG4gICAgICAgIHByb2plY3Rpb24gPSB0aGlzLnF1ZXJ5LnByb2plY3Rpb24sXG4gICAgICAgIGxlYW4gPSB0aGlzLnF1ZXJ5LmxlYW4sXG4gICAgICAgIGxlYW5XaXRoSWQgPSB0aGlzLnF1ZXJ5LmxlYW5XaXRoSWQsXG4gICAgICAgIG9mZnNldCA9IHRoaXMucXVlcnkub2Zmc2V0LFxuICAgICAgICBwYWdlID0gdGhpcy5xdWVyeS5wYWdlLFxuICAgICAgICBsaW1pdCA9IHRoaXMucXVlcnkubGltaXQsXG4gICAgICAgIGN1c3RvbUxhYmVscyA9IHRoaXMucXVlcnkuY3VzdG9tTGFiZWxzLFxuICAgICAgICBwYWdpbmF0aW9uID0gdGhpcy5xdWVyeS5wYWdpbmF0aW9uLFxuICAgICAgICB1c2VFc3RpbWF0ZWRDb3VudCA9IHRoaXMucXVlcnkudXNlRXN0aW1hdGVkQ291bnQsXG4gICAgICAgIHVzZUN1c3RvbUNvdW50Rm4gPSB0aGlzLnF1ZXJ5LnVzZUN1c3RvbUNvdW50Rm4sXG4gICAgICAgIGZvcmNlQ291bnRGbiA9IHRoaXMucXVlcnkuZm9yY2VDb3VudEZuLFxuICAgICAgICBhbGxvd0Rpc2tVc2UgPSB0aGlzLnF1ZXJ5LmFsbG93RGlza1VzZSxcbiAgICAgICAgcmVhZCA9IHRoaXMucXVlcnkucmVhZCxcbiAgICAgICAgbW9uZ29vc2VPcHRpb25zID0gdGhpcy5xdWVyeS5vcHRpb25zO1xuXG4gICAgICAvLyBGb3IgZXZlcnkgb3B0aW9uIHRoYXQgaXMgc2V0LCBhZGQgaXQgdG8gdGhlICdvcHRpb25zJyBvYmplY3QtbGl0ZXJhbFxuICAgICAgaWYgKHNlbGVjdCkgb3B0aW9uc1snc2VsZWN0J10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHNlbGVjdCk7XG4gICAgICBpZiAoY29sbGF0aW9uKSBvcHRpb25zWydjb2xsYXRpb24nXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoY29sbGF0aW9uKTtcbiAgICAgIGlmIChzb3J0KSBvcHRpb25zWydzb3J0J10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHNvcnQpO1xuICAgICAgaWYgKHBvcHVsYXRlKSBvcHRpb25zWydwb3B1bGF0ZSddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhwb3B1bGF0ZSk7XG4gICAgICBpZiAocHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydwcm9qZWN0aW9uJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHByb2plY3Rpb24pO1xuICAgICAgaWYgKGxlYW4gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1snbGVhbiddID0gdGhpcy5ib29sZWFuT3B0KGxlYW4pO1xuICAgICAgaWYgKGxlYW5XaXRoSWQgIT09IHVuZGVmaW5lZCkgb3B0aW9uc1snbGVhbldpdGhJZCddID0gdGhpcy5ib29sZWFuT3B0KGxlYW5XaXRoSWQpO1xuICAgICAgaWYgKG9mZnNldCkgb3B0aW9uc1snb2Zmc2V0J10gPSBOdW1iZXIob2Zmc2V0KTtcbiAgICAgIGlmIChwYWdlKSBvcHRpb25zWydwYWdlJ10gPSBOdW1iZXIocGFnZSk7XG4gICAgICBpZiAobGltaXQgfHwgbGltaXQgPT0gMCkgb3B0aW9uc1snbGltaXQnXSA9IE51bWJlcihsaW1pdCk7XG4gICAgICBpZiAoY3VzdG9tTGFiZWxzKSBvcHRpb25zWydjdXN0b21MYWJlbHMnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcoY3VzdG9tTGFiZWxzKTtcbiAgICAgIGlmIChwYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3BhZ2luYXRpb24nXSA9IHRoaXMuYm9vbGVhbk9wdChwYWdpbmF0aW9uKTtcbiAgICAgIGlmICh1c2VFc3RpbWF0ZWRDb3VudCAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWyd1c2VFc3RpbWF0ZWRDb3VudCddID0gdGhpcy5ib29sZWFuT3B0KHVzZUVzdGltYXRlZENvdW50KTtcbiAgICAgIGlmICh1c2VDdXN0b21Db3VudEZuICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3VzZUN1c3RvbUNvdW50Rm4nXSA9IHRoaXMuYm9vbGVhbk9wdCh1c2VDdXN0b21Db3VudEZuKTtcbiAgICAgIGlmIChmb3JjZUNvdW50Rm4gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1snZm9yY2VDb3VudEZuJ10gPSB0aGlzLmJvb2xlYW5PcHQoZm9yY2VDb3VudEZuKTtcbiAgICAgIGlmIChhbGxvd0Rpc2tVc2UpIG9wdGlvbnNbJ2FsbG93RGlza1VzZSddID0gdGhpcy5ib29sZWFuT3B0KGFsbG93RGlza1VzZSk7XG4gICAgICBpZiAocmVhZCkgb3B0aW9uc1sncmVhZCddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhyZWFkKTtcbiAgICAgIGlmIChtb25nb29zZU9wdGlvbnMpIG9wdGlvbnNbJ29wdGlvbnMnXSA9IHRoaXMuZ2V0T3B0aW9ucyhtb25nb29zZU9wdGlvbnMpO1xuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBZaWVsZHMgYW4gYXJyYXkgd2l0aCBwb3NpdGlvbnM6XHJcbiAgICAgKiBbMF0gXCJxdWVyeVwiIHBhcmFtZXRlciwgZm9yIE1vZGVsLnBhZ2luYXRlKClcclxuICAgICAqIFsxXSBcIm9wdGlvbnNcIiBwYXJhbWV0ZXIsIGZvciBNb2RlbC5wYWdpbmF0ZSgpXHJcbiAgICAgKiAqL1xuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gW19vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0UXVlcnkoKSksIF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0T3B0aW9ucygpKV07XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcjtcbn0oKTtcbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXI7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js ***!
  \************************************************************************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Helper function to paginate a query.\n *\n * @param {Object} options - The pagination options.\n * @returns {Promise} - A promise that resolves to the paginated query result.\n */\nfunction paginateQueryHelper(options) {\n  return this.model.paginate(this.getQuery(), options);\n}\nmodule.exports = paginateQueryHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1xdWVyeUhlbHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWNrL0Rlc2t0b3AvQnVzaW5lc3MvUGF5bG9hZENNUy9wYXlsb2FkLXN0b3JhZ2UtY2xvdWRpbmFyeS9kZXYvbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvb3NlLXBhZ2luYXRlLXYyQDEuOC41L25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tcXVlcnlIZWxwZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHBhZ2luYXRlIGEgcXVlcnkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgcGFnaW5hdGlvbiBvcHRpb25zLlxuICogQHJldHVybnMge1Byb21pc2V9IC0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHBhZ2luYXRlZCBxdWVyeSByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIHBhZ2luYXRlUXVlcnlIZWxwZXIob3B0aW9ucykge1xuICByZXR1cm4gdGhpcy5tb2RlbC5wYWdpbmF0ZSh0aGlzLmdldFF1ZXJ5KCksIG9wdGlvbnMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBwYWdpbmF0ZVF1ZXJ5SGVscGVyOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-queryHelper.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js ***!
  \********************************************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n/**\r\n * Pagination process for sub-documents\r\n * internally, it would call `query.findOne`, return only one document\r\n *\r\n * @param {Object} query\r\n * @param {Object} options\r\n * @param {Function} callback\r\n */\nfunction paginateSubDocs(query, options, callback) {\n  /**\r\n   * Populate sub documents with pagination fields\r\n   *\r\n   * @param {Object} query\r\n   * @param {Object} populate origin populate option\r\n   * @param {Object} option\r\n   */\n  function getSubDocsPopulate(option) {\n    // options properties for sub-documents pagination\n    var populate = option.populate,\n      _option$page = option.page,\n      page = _option$page === void 0 ? 1 : _option$page,\n      _option$limit = option.limit,\n      limit = _option$limit === void 0 ? 10 : _option$limit;\n    if (!populate) {\n      throw new Error('populate is required');\n    }\n    var offset = (page - 1) * limit;\n    option.offset = offset;\n    var pagination = {\n      skip: offset,\n      limit: limit\n    };\n    if (typeof populate === 'string') {\n      populate = _objectSpread({\n        path: populate\n      }, pagination);\n    } else if (typeof populate === 'object' && !Array.isArray(populate)) {\n      populate = Object.assign(populate, pagination);\n    }\n    option.populate = populate;\n    return populate;\n  }\n  function populateResult(result, populate) {\n    return result.populate(populate);\n  }\n\n  /**\r\n   * Convert result of sub-docs list to pagination like docs\r\n   *\r\n   * @param {Object} result query result\r\n   * @param {Object} option pagination option\r\n   */\n  function constructDocs(paginatedResult, option) {\n    var populate = option.populate,\n      _option$offset = option.offset,\n      offset = _option$offset === void 0 ? 0 : _option$offset,\n      _option$page2 = option.page,\n      page = _option$page2 === void 0 ? 1 : _option$page2,\n      _option$limit2 = option.limit,\n      limit = _option$limit2 === void 0 ? 10 : _option$limit2;\n    var path = populate.path;\n    var count = option.count;\n    var paginatedDocs = paginatedResult[path];\n    if (!paginatedDocs) {\n      throw new Error(`Parse error! Cannot find key on result with path ${path}`);\n    }\n    page = Math.ceil((offset + 1) / limit);\n\n    // set default meta\n    var meta = {\n      docs: paginatedDocs,\n      totalDocs: count || 1,\n      limit: limit,\n      page: page,\n      prevPage: null,\n      nextPage: null,\n      hasPrevPage: false,\n      hasNextPage: false\n    };\n    var totalPages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n    meta.totalPages = totalPages;\n    meta.pagingCounter = (page - 1) * limit + 1;\n\n    // Set prev page\n    if (page > 1) {\n      meta.hasPrevPage = true;\n      meta.prevPage = page - 1;\n    } else if (page == 1 && offset !== 0) {\n      meta.hasPrevPage = true;\n      meta.prevPage = 1;\n    }\n\n    // Set next page\n    if (page < totalPages) {\n      meta.hasNextPage = true;\n      meta.nextPage = page + 1;\n    }\n    if (limit == 0) {\n      meta.limit = 0;\n      meta.totalPages = 1;\n      meta.page = 1;\n      meta.pagingCounter = 1;\n    }\n    Object.defineProperty(paginatedResult, path, {\n      value: meta,\n      writable: false\n    });\n  }\n\n  // options properties for main document query\n  var populate = options.populate,\n    _options$read = options.read,\n    read = _options$read === void 0 ? {} : _options$read,\n    _options$select = options.select,\n    select = _options$select === void 0 ? '' : _options$select,\n    _options$pagination = options.pagination,\n    pagination = _options$pagination === void 0 ? true : _options$pagination,\n    pagingOptions = options.pagingOptions,\n    projection = options.projection;\n  var mQuery = this.findOne(query, projection);\n  if (read && read.pref) {\n    /**\r\n     * Determines the MongoDB nodes from which to read.\r\n     * @param read.pref one of the listed preference options or aliases\r\n     * @param read.tags optional tags for this query\r\n     */\n    mQuery.read(read.pref, read.tags);\n  }\n  if (select) {\n    mQuery.select(select);\n  }\n  return new Promise(function (resolve, reject) {\n    mQuery.exec().then(function (result) {\n      var newPopulate = [];\n      if (populate) {\n        newPopulate.push(newPopulate);\n      }\n      if (pagination && pagingOptions) {\n        if (Array.isArray(pagingOptions)) {\n          pagingOptions.forEach(function (option) {\n            var populate = getSubDocsPopulate(option);\n            option.count = result[populate.path].length;\n            newPopulate.push(populate);\n          });\n        } else {\n          var _populate = getSubDocsPopulate(pagingOptions);\n          pagingOptions.count = result[_populate.path].length;\n          newPopulate.push(_populate);\n        }\n      }\n      populateResult(result, newPopulate).then(function (paginatedResult) {\n        // convert paginatedResult to pagination docs\n        if (pagination && pagingOptions) {\n          if (Array.isArray(pagingOptions)) {\n            pagingOptions.forEach(function (option) {\n              constructDocs(paginatedResult, option);\n            });\n          } else {\n            constructDocs(paginatedResult, pagingOptions);\n          }\n        }\n        callback && callback(null, paginatedResult);\n        resolve(paginatedResult);\n      });\n    }).catch(function (err) {\n      console.error(err.message);\n      callback && callback(err, null);\n      reject(err);\n    });\n  });\n}\nmodule.exports = paginateSubDocs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbW9uZ29vc2UtcGFnaW5hdGUtdjJAMS44LjUvbm9kZV9tb2R1bGVzL21vbmdvb3NlLXBhZ2luYXRlLXYyL2Rpc3QvcGFnaW5hdGlvbi1zdWJkb2NzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDJDQUEyQyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCxzQkFBc0IsMENBQTBDLGlFQUFpRSxLQUFLLGtDQUFrQztBQUMzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPO0FBQ3RnQiw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjtBQUNwTTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsS0FBSztBQUMvRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvbmljay9EZXNrdG9wL0J1c2luZXNzL1BheWxvYWRDTVMvcGF5bG9hZC1zdG9yYWdlLWNsb3VkaW5hcnkvZGV2L25vZGVfbW9kdWxlcy8ucG5wbS9tb25nb29zZS1wYWdpbmF0ZS12MkAxLjguNS9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXN1YmRvY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuLyoqXHJcbiAqIFBhZ2luYXRpb24gcHJvY2VzcyBmb3Igc3ViLWRvY3VtZW50c1xyXG4gKiBpbnRlcm5hbGx5LCBpdCB3b3VsZCBjYWxsIGBxdWVyeS5maW5kT25lYCwgcmV0dXJuIG9ubHkgb25lIGRvY3VtZW50XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeVxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKi9cbmZ1bmN0aW9uIHBhZ2luYXRlU3ViRG9jcyhxdWVyeSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgLyoqXHJcbiAgICogUG9wdWxhdGUgc3ViIGRvY3VtZW50cyB3aXRoIHBhZ2luYXRpb24gZmllbGRzXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9wdWxhdGUgb3JpZ2luIHBvcHVsYXRlIG9wdGlvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25cclxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3ViRG9jc1BvcHVsYXRlKG9wdGlvbikge1xuICAgIC8vIG9wdGlvbnMgcHJvcGVydGllcyBmb3Igc3ViLWRvY3VtZW50cyBwYWdpbmF0aW9uXG4gICAgdmFyIHBvcHVsYXRlID0gb3B0aW9uLnBvcHVsYXRlLFxuICAgICAgX29wdGlvbiRwYWdlID0gb3B0aW9uLnBhZ2UsXG4gICAgICBwYWdlID0gX29wdGlvbiRwYWdlID09PSB2b2lkIDAgPyAxIDogX29wdGlvbiRwYWdlLFxuICAgICAgX29wdGlvbiRsaW1pdCA9IG9wdGlvbi5saW1pdCxcbiAgICAgIGxpbWl0ID0gX29wdGlvbiRsaW1pdCA9PT0gdm9pZCAwID8gMTAgOiBfb3B0aW9uJGxpbWl0O1xuICAgIGlmICghcG9wdWxhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncG9wdWxhdGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgdmFyIG9mZnNldCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcbiAgICBvcHRpb24ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHZhciBwYWdpbmF0aW9uID0ge1xuICAgICAgc2tpcDogb2Zmc2V0LFxuICAgICAgbGltaXQ6IGxpbWl0XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHBvcHVsYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgcG9wdWxhdGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgcGF0aDogcG9wdWxhdGVcbiAgICAgIH0sIHBhZ2luYXRpb24pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvcHVsYXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShwb3B1bGF0ZSkpIHtcbiAgICAgIHBvcHVsYXRlID0gT2JqZWN0LmFzc2lnbihwb3B1bGF0ZSwgcGFnaW5hdGlvbik7XG4gICAgfVxuICAgIG9wdGlvbi5wb3B1bGF0ZSA9IHBvcHVsYXRlO1xuICAgIHJldHVybiBwb3B1bGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBwb3B1bGF0ZVJlc3VsdChyZXN1bHQsIHBvcHVsYXRlKSB7XG4gICAgcmV0dXJuIHJlc3VsdC5wb3B1bGF0ZShwb3B1bGF0ZSk7XG4gIH1cblxuICAvKipcclxuICAgKiBDb252ZXJ0IHJlc3VsdCBvZiBzdWItZG9jcyBsaXN0IHRvIHBhZ2luYXRpb24gbGlrZSBkb2NzXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzdWx0IHF1ZXJ5IHJlc3VsdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24gcGFnaW5hdGlvbiBvcHRpb25cclxuICAgKi9cbiAgZnVuY3Rpb24gY29uc3RydWN0RG9jcyhwYWdpbmF0ZWRSZXN1bHQsIG9wdGlvbikge1xuICAgIHZhciBwb3B1bGF0ZSA9IG9wdGlvbi5wb3B1bGF0ZSxcbiAgICAgIF9vcHRpb24kb2Zmc2V0ID0gb3B0aW9uLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9vcHRpb24kb2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbiRvZmZzZXQsXG4gICAgICBfb3B0aW9uJHBhZ2UyID0gb3B0aW9uLnBhZ2UsXG4gICAgICBwYWdlID0gX29wdGlvbiRwYWdlMiA9PT0gdm9pZCAwID8gMSA6IF9vcHRpb24kcGFnZTIsXG4gICAgICBfb3B0aW9uJGxpbWl0MiA9IG9wdGlvbi5saW1pdCxcbiAgICAgIGxpbWl0ID0gX29wdGlvbiRsaW1pdDIgPT09IHZvaWQgMCA/IDEwIDogX29wdGlvbiRsaW1pdDI7XG4gICAgdmFyIHBhdGggPSBwb3B1bGF0ZS5wYXRoO1xuICAgIHZhciBjb3VudCA9IG9wdGlvbi5jb3VudDtcbiAgICB2YXIgcGFnaW5hdGVkRG9jcyA9IHBhZ2luYXRlZFJlc3VsdFtwYXRoXTtcbiAgICBpZiAoIXBhZ2luYXRlZERvY3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyc2UgZXJyb3IhIENhbm5vdCBmaW5kIGtleSBvbiByZXN1bHQgd2l0aCBwYXRoICR7cGF0aH1gKTtcbiAgICB9XG4gICAgcGFnZSA9IE1hdGguY2VpbCgob2Zmc2V0ICsgMSkgLyBsaW1pdCk7XG5cbiAgICAvLyBzZXQgZGVmYXVsdCBtZXRhXG4gICAgdmFyIG1ldGEgPSB7XG4gICAgICBkb2NzOiBwYWdpbmF0ZWREb2NzLFxuICAgICAgdG90YWxEb2NzOiBjb3VudCB8fCAxLFxuICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgcGFnZTogcGFnZSxcbiAgICAgIHByZXZQYWdlOiBudWxsLFxuICAgICAgbmV4dFBhZ2U6IG51bGwsXG4gICAgICBoYXNQcmV2UGFnZTogZmFsc2UsXG4gICAgICBoYXNOZXh0UGFnZTogZmFsc2VcbiAgICB9O1xuICAgIHZhciB0b3RhbFBhZ2VzID0gbGltaXQgPiAwID8gTWF0aC5jZWlsKGNvdW50IC8gbGltaXQpIHx8IDEgOiBudWxsO1xuICAgIG1ldGEudG90YWxQYWdlcyA9IHRvdGFsUGFnZXM7XG4gICAgbWV0YS5wYWdpbmdDb3VudGVyID0gKHBhZ2UgLSAxKSAqIGxpbWl0ICsgMTtcblxuICAgIC8vIFNldCBwcmV2IHBhZ2VcbiAgICBpZiAocGFnZSA+IDEpIHtcbiAgICAgIG1ldGEuaGFzUHJldlBhZ2UgPSB0cnVlO1xuICAgICAgbWV0YS5wcmV2UGFnZSA9IHBhZ2UgLSAxO1xuICAgIH0gZWxzZSBpZiAocGFnZSA9PSAxICYmIG9mZnNldCAhPT0gMCkge1xuICAgICAgbWV0YS5oYXNQcmV2UGFnZSA9IHRydWU7XG4gICAgICBtZXRhLnByZXZQYWdlID0gMTtcbiAgICB9XG5cbiAgICAvLyBTZXQgbmV4dCBwYWdlXG4gICAgaWYgKHBhZ2UgPCB0b3RhbFBhZ2VzKSB7XG4gICAgICBtZXRhLmhhc05leHRQYWdlID0gdHJ1ZTtcbiAgICAgIG1ldGEubmV4dFBhZ2UgPSBwYWdlICsgMTtcbiAgICB9XG4gICAgaWYgKGxpbWl0ID09IDApIHtcbiAgICAgIG1ldGEubGltaXQgPSAwO1xuICAgICAgbWV0YS50b3RhbFBhZ2VzID0gMTtcbiAgICAgIG1ldGEucGFnZSA9IDE7XG4gICAgICBtZXRhLnBhZ2luZ0NvdW50ZXIgPSAxO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFnaW5hdGVkUmVzdWx0LCBwYXRoLCB7XG4gICAgICB2YWx1ZTogbWV0YSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgLy8gb3B0aW9ucyBwcm9wZXJ0aWVzIGZvciBtYWluIGRvY3VtZW50IHF1ZXJ5XG4gIHZhciBwb3B1bGF0ZSA9IG9wdGlvbnMucG9wdWxhdGUsXG4gICAgX29wdGlvbnMkcmVhZCA9IG9wdGlvbnMucmVhZCxcbiAgICByZWFkID0gX29wdGlvbnMkcmVhZCA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRyZWFkLFxuICAgIF9vcHRpb25zJHNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0LFxuICAgIHNlbGVjdCA9IF9vcHRpb25zJHNlbGVjdCA9PT0gdm9pZCAwID8gJycgOiBfb3B0aW9ucyRzZWxlY3QsXG4gICAgX29wdGlvbnMkcGFnaW5hdGlvbiA9IG9wdGlvbnMucGFnaW5hdGlvbixcbiAgICBwYWdpbmF0aW9uID0gX29wdGlvbnMkcGFnaW5hdGlvbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHBhZ2luYXRpb24sXG4gICAgcGFnaW5nT3B0aW9ucyA9IG9wdGlvbnMucGFnaW5nT3B0aW9ucyxcbiAgICBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uO1xuICB2YXIgbVF1ZXJ5ID0gdGhpcy5maW5kT25lKHF1ZXJ5LCBwcm9qZWN0aW9uKTtcbiAgaWYgKHJlYWQgJiYgcmVhZC5wcmVmKSB7XG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBNb25nb0RCIG5vZGVzIGZyb20gd2hpY2ggdG8gcmVhZC5cclxuICAgICAqIEBwYXJhbSByZWFkLnByZWYgb25lIG9mIHRoZSBsaXN0ZWQgcHJlZmVyZW5jZSBvcHRpb25zIG9yIGFsaWFzZXNcclxuICAgICAqIEBwYXJhbSByZWFkLnRhZ3Mgb3B0aW9uYWwgdGFncyBmb3IgdGhpcyBxdWVyeVxyXG4gICAgICovXG4gICAgbVF1ZXJ5LnJlYWQocmVhZC5wcmVmLCByZWFkLnRhZ3MpO1xuICB9XG4gIGlmIChzZWxlY3QpIHtcbiAgICBtUXVlcnkuc2VsZWN0KHNlbGVjdCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBtUXVlcnkuZXhlYygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgdmFyIG5ld1BvcHVsYXRlID0gW107XG4gICAgICBpZiAocG9wdWxhdGUpIHtcbiAgICAgICAgbmV3UG9wdWxhdGUucHVzaChuZXdQb3B1bGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmdPcHRpb25zKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhZ2luZ09wdGlvbnMpKSB7XG4gICAgICAgICAgcGFnaW5nT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBwb3B1bGF0ZSA9IGdldFN1YkRvY3NQb3B1bGF0ZShvcHRpb24pO1xuICAgICAgICAgICAgb3B0aW9uLmNvdW50ID0gcmVzdWx0W3BvcHVsYXRlLnBhdGhdLmxlbmd0aDtcbiAgICAgICAgICAgIG5ld1BvcHVsYXRlLnB1c2gocG9wdWxhdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfcG9wdWxhdGUgPSBnZXRTdWJEb2NzUG9wdWxhdGUocGFnaW5nT3B0aW9ucyk7XG4gICAgICAgICAgcGFnaW5nT3B0aW9ucy5jb3VudCA9IHJlc3VsdFtfcG9wdWxhdGUucGF0aF0ubGVuZ3RoO1xuICAgICAgICAgIG5ld1BvcHVsYXRlLnB1c2goX3BvcHVsYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcG9wdWxhdGVSZXN1bHQocmVzdWx0LCBuZXdQb3B1bGF0ZSkudGhlbihmdW5jdGlvbiAocGFnaW5hdGVkUmVzdWx0KSB7XG4gICAgICAgIC8vIGNvbnZlcnQgcGFnaW5hdGVkUmVzdWx0IHRvIHBhZ2luYXRpb24gZG9jc1xuICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmdPcHRpb25zKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFnaW5nT3B0aW9ucykpIHtcbiAgICAgICAgICAgIHBhZ2luZ09wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgIGNvbnN0cnVjdERvY3MocGFnaW5hdGVkUmVzdWx0LCBvcHRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdERvY3MocGFnaW5hdGVkUmVzdWx0LCBwYWdpbmdPcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbCwgcGFnaW5hdGVkUmVzdWx0KTtcbiAgICAgICAgcmVzb2x2ZShwYWdpbmF0ZWRSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBwYWdpbmF0ZVN1YkRvY3M7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/mongoose-paginate-v2@1.8.5/node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\n");

/***/ })

};
;